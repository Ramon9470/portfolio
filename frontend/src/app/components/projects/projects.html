<section id="projetos" class="py-20 bg-gray-900">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <div class="text-center mb-16 animate-fade-in">
      <h2 class="text-3xl md:text-4xl font-extrabold text-white mb-4">
        Projetos Realizados
      </h2>
      <div class="h-1 w-20 bg-indigo-500 mx-auto rounded-full"></div>
    </div>

    <div *ngIf="projects; else loadingProjects" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      
      <div *ngFor="let project of projects" class="bg-gray-800 rounded-xl overflow-hidden hover:transform hover:scale-105 transition duration-300 shadow-xl group border border-gray-700">
        
        <div class="h-48 bg-gray-700 overflow-hidden relative">
             <img *ngIf="project.image_url" [src]="project.image_url" [alt]="project.title" class="w-full h-full object-cover">
             <div *ngIf="!project.image_url" class="w-full h-full flex items-center justify-center text-gray-600">
                <i class="fa-solid fa-code text-4xl"></i>
             </div>
             
             <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4">
                 <a *ngIf="project.repo_url" [href]="project.repo_url" target="_blank" class="p-2 bg-gray-800 rounded-full text-white hover:bg-white hover:text-gray-900 transition"><i class="fa-brands fa-github text-xl"></i></a>
                 <a *ngIf="project.live_url" [href]="project.live_url" target="_blank" class="p-2 bg-indigo-600 rounded-full text-white hover:bg-indigo-500 transition"><i class="fa-solid fa-external-link text-xl"></i></a>
             </div>
        </div>

        <div class="p-6">
          <h3 class="text-xl font-bold text-white mb-2">{{ project.title }}</h3>
          <p class="text-gray-400 text-sm mb-4 line-clamp-3">
            {{ project.description }}
          </p>
          
          <div class="flex flex-wrap gap-2">
            <ng-container *ngIf="project.tech_stack">
                <span *ngFor="let tech of project.tech_stack" class="px-3 py-1 bg-gray-700 text-indigo-400 rounded-full text-xs font-semibold">
                  {{ tech }}
                </span>
            </ng-container>
          </div>
        </div>
      </div>

    </div>
    
    <div *ngIf="projects && projects.length === 0" class="text-center text-gray-500 mt-10">
        Nenhum projeto encontrado.
    </div>

  </div>
</section>

<ng-template #loadingProjects>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 animate-pulse">
    <div class="bg-gray-800 rounded-xl h-96"></div>
    <div class="bg-gray-800 rounded-xl h-96"></div>
    <div class="bg-gray-800 rounded-xl h-96"></div>
  </div>
</ng-template>